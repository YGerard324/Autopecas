<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AUTO PARTS</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js'></script>
    <style> #calendar {max-width: 900px;margin: 40px auto;}
    .modal-body input { margin-bottom: 10px; }</style>
    <script>

      document.addEventListener('DOMContentLoaded', function() {
        var calendarEl = document.getElementById('calendar');
        var calendar = new FullCalendar.Calendar(calendarEl, {
          initialView: 'dayGridMonth'
        });
        calendar.render();
      });

    </script>
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <div class="container-fluid">
                <a class="navbar-brand" href="#">
                    <img src='https://cdn-icons-png.flaticon.com/512/11809/11809845.png' width="30" height="30" class="d-inline-block align-top" alt="">
                    AUTO PARTS
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link" href="http://localhost:3000/vendas"><i class="fa fa-shopping-cart"></i> Venda</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="http://localhost:3000/products"><i class="fa fa-plus"></i> Cadastrar Produto</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="http://localhost:3000/calendar"><i class="fa fa-calendar"></i> Calendário</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <div id='calendar'></div>  

    <!-- Modal -->
    <div class="modal fade" id="addEventModal" tabindex="-1" aria-labelledby="addEventModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addEventModalLabel">Adicionar Evento</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <input type="text" id="eventTitle" class="form-control" placeholder="Título">
                    <input type="datetime-local" id="eventDateTime" class="form-control" placeholder="Data e Hora">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                    <button type="button" class="btn btn-primary" id="saveEventBtn">Salvar</button>
                </div>
            </div>
        </div>
    </div>

</body>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
<!-- FullCalendar -->
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/main.min.js'></script>
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/locales/pt-br.js'></script>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        var calendarEl = document.getElementById('calendar');
        var calendar = new FullCalendar.Calendar(calendarEl, {
            locale: 'pt-br',
            initialView: 'dayGridMonth',
            headerToolbar: {
                left: 'prev,next today',
                center: 'title',
                right: 'dayGridMonth,timeGridWeek,timeGridDay'
            },
            selectable: true,
            editable: true,
            eventClick: function(info) {
                alert('Event: ' + info.event.title);
            },
            dateClick: function(info) {
                $('#eventDateTime').val(info.dateStr);
                $('#addEventModal').modal('show');
            },
            events: [
                {
                    title: 'Event 1',
                    start: '2024-05-01'
                },
                {
                    title: 'Event 2',
                    start: '2024-05-10T10:00:00',
                    end: '2024-05-12T12:00:00'
                },
                {
                    title: 'Event 3',
                    start: '2024-05-20T15:00:00'
                }
            ]
        });
        calendar.render();

        // Salvar evento
        $('#saveEventBtn').on('click', function() {
            var title = $('#eventTitle').val();
            var dateTime = $('#eventDateTime').val();
            if (title && dateTime) {
                calendar.addEvent({
                    title: title,
                    start: dateTime
                });
                $('#addEventModal').modal('hide');
            }
        });
    });
</script>
</html>